<h1>Warren Shea&#39;s Notes for JavaScript</h1><p>v20191221</p>
<h2>IIFE - Immediate-invoked Function Expressions</h2><p>To execute functions immediately, as soon as they are created
Don&#39;t pollute the global object, simple way to isolate variables declarations</p>
<pre><code class="language-javascript">(function() {
  /* */
})()

(function doSomething() {
  /* */
})()

(() =&gt; {
  /* */
})()
</code></pre>
<p>event.preventDefault();
event.preventStopPropagation();</p>
<h2>Vanilla JS IE11 Friendly AJAX Request</h2><pre><code class="language-javascript">Vanilla JS IE11 Friendly AJAX Requestfunction jsonp(uri) {
  return new Promise(function(resolve, reject) {
    var id = &#39;_&#39; + Math.round(10000 * Math.random());
    var callbackName = &#39;jsonp_callback_&#39; + id;
    window[callbackName] = function(data) {
      delete window[callbackName];
      var ele = document.getElementById(id);
      ele.parentNode.removeChild(ele);
      resolve(data);
    }

    var src = uri + &#39;&amp;callback=&#39; + callbackName;
    var script = document.createElement(&#39;script&#39;);
    script.src = src;
    script.id = id;
    script.addEventListener(&#39;error&#39;, reject);
    (document.getElementsByTagName(&#39;head&#39;)[0] || document.body || document.documentElement).appendChild(script)
  });
}

if (navigator.userAgent.toLowerCase().indexOf(&#39;msie&#39;) &gt; -1 &amp;&amp; window.XDomainRequest) {
  // Use Microsoft XDR
  var xdr = new XDomainRequest();
  xdr.open(&quot;get&quot;, url);
  xdr.onload = function() {
    // XDomainRequest doesn&#39;t provide responseXml, so if you need it:
    var dom = new ActiveXObject(&quot;Microsoft.XMLDOM&quot;);
    dom.async = false;
    dom.loadXML(xdr.responseText[&quot;data&quot;][0]);
  };
  xdr.send();
} else {
  jsonp(url).then(function(data){
    temp_get_symbol_payload = data[&quot;data&quot;][0];

    /*if there are more than 1 result(s)*/
    if (temp_get_symbol_payload) {
      if (temp_get_symbol_payload.length &gt; 0) {
        get_holding_payload.classList.remove(&quot;display:none&quot;);
        get_holding_payload.innerHTML = &quot;&quot;;
        /*iterate through*/
        for(let i=0;i&lt;temp_get_symbol_payload.length;i++) {
          get_holding_payload.insertAdjacentHTML(&#39;beforeend&#39;, self.render_autocomplete_result(query,i,input_id,autocomplete_id,temp_get_symbol_payload[i]));
          if (i === results_max_results) {
            break;
          }
        }
      }
    }
  });
}
</code></pre>
